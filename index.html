<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="An ancient digital artifact. Origin unknown. This terminal-based relic reconstructs historical narratives from decoupled data streams.">
    <meta name="robots" content="index, follow">
    <title>STORYENGINE | Ancient Artifact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/storygear.png">
    <link rel="stylesheet" href="scripts/style.css">
</head>

<body>

    <!-- Vintage radio attachment persistent across all views -->
    <div id="vintage-radio" class="vintage-radio-attachment" title="Toggle Radio">
        <div class="radio-speaker-grill"></div>
        <div class="radio-dial"></div>
        <div class="radio-antenna"></div>
        <span class="radio-label">FM/AM</span>
    </div>

    <div class="engine-frame">

        <!-- TV screen area ‚Äî video plays inside here -->
        <div id="tv-screen" class="tv-screen">
            <video id="boot-video" playsinline preload="auto">
                <source src="assets/colourcheck.mp4" type="video/mp4">
            </video>
            <video id="shutdown-video" playsinline preload="auto">
                <source src="assets/tv-off.mp4" type="video/mp4">
            </video>
        </div>
        <!-- Terminal interface ‚Äî replaces tv-screen inside the same frame -->
        <header id="main-interface" class="hidden" role="main">
            <h1 id="main-title">STORYENGINE</h1>
            <div id="terminal-interface">
                <div id="terminal-output"></div>
                <div class="input-line">
                    <span class="prompt" aria-hidden="true">admin@engine:~$</span>
                    <label for="terminal-input" class="sr-only">Enter command</label>
                    <input type="text" id="terminal-input" autofocus spellcheck="false" placeholder="Enter command"
                        aria-label="Terminal input">
                </div>
            </div>
        </header>
        <!-- Controls row ‚Äî below screen like a real TV -->
        <div class="frame-controls">
            <div class="power-control">
                <button id="tvbutton" class="tv-power-btn" aria-label="Power toggle">‚èª</button>
                <span id="power-label" class="power-label">OFF</span>
            </div>
            <div class="frame-controls-right">
                <button id="manual-btn" class="tv-manual-btn" title="Manual / Help">üìñ</button>
                <button id="mute-btn" class="tv-mute-btn" title="Toggle sound">üîá</button>
            </div>
        </div>

    </div>

    <main id="engine-viewport" class="hidden" role="region" aria-label="Story content">
        <section id="narrative-container">
            <h2 id="display-title"></h2>
            <div id="story-body"></div>
        </section>

        <section id="logic-exhibit" class="hidden">
            <hr>
            <h3>LOGIC_EXERCISE</h3>
            <div id="exercise-ui"></div>
            <div id="visual-result"></div>
        </section>
    </main>

    <script src="scripts/engine.js"></script>
    <!-- Manual popup ‚Äî appears on screen like a map -->
    <div id="manual-overlay" class="manual-overlay hidden">
        <div class="manual-content">
            <h2>üìü STORYENGINE v2.5 ‚Äî MANUAL</h2>
            <p>Hi, this is the new 2.5 Story Engine.</p>
            <p>Please read the instructions below. If you have any questions, contact:<br>
                <strong>lawithan@tech-jcorp.org</strong>
            </p>
            <hr>
            <h3>TERMINAL COMMANDS:</h3>
            <ul>
                <li><code>exit</code> ‚Äî Turns off the engine</li>
                <li><code>clear</code> ‚Äî Clears the terminal screen</li>
                <li><code>back</code> ‚Äî Go back to previous menu</li>
                <li><code>list</code> ‚Äî List available archives</li>
                <li>Anything else? Gets echoed back. Try different text to see if you can find an easter egg!
                </li>
            </ul>
            <hr>
            <p class="manual-footer">Select an author by number, then select a story.<br>Enjoy the experience.
            </p>
            <button id="close-manual" class="manual-close-btn">‚úï CLOSE</button>
        </div>
    </div>

    <!-- Hidden audio element for the vintage radio -->
    <audio id="radio-audio" loop preload="auto">
        <source src="assets/radio song.mp3" type="audio/mpeg">
    </audio>

    <!-- Hidden audio elements for TV boot and shutdown -->
    <audio id="on-audio" preload="auto">
        <source src="assets/ontv.mp3" type="audio/mpeg">
    </audio>
    <audio id="off-audio" preload="auto">
        <source src="assets/offtv.mp3" type="audio/mpeg">
    </audio>

    <!-- Radio Interference tracks -->
    <audio id="inter-01" preload="auto">
        <source src="assets/interference-01.mp3" type="audio/mpeg">
    </audio>
    <audio id="inter-02" preload="auto">
        <source src="assets/interference-02.mp3" type="audio/mpeg">
    </audio>

</body>

</html>