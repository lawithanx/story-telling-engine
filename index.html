<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="An ancient digital artifact. Origin unknown. This terminal-based relic reconstructs historical narratives from decoupled data streams.">
    <meta name="robots" content="index, follow">
    <title>STORYENGINE | Ancient Artifact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/storygear.png">
    <link rel="stylesheet" href="scripts/style.css">
</head>

<body>

    <!-- Vintage radio attachment persistent across all views -->
    <div id="vintage-radio" class="vintage-radio-attachment" title="Toggle Radio">
        <div class="radio-speaker-grill"></div>
        <div class="radio-dial"></div>
        <div class="radio-antenna"></div>
        <span class="radio-label">FM/AM</span>
        <div class="radio-volume-controls">
            <button id="radio-voldown" class="radio-vol-btn" title="Volume Down">-</button>
            <button id="radio-volup" class="radio-vol-btn" title="Volume Up">+</button>
        </div>
    </div>

    <div class="engine-frame">

        <!-- TV screen area — video plays inside here -->
        <div id="tv-screen" class="tv-screen">
            <video id="boot-video" playsinline preload="auto">
                <source src="assets/colourcheck.mp4" type="video/mp4">
            </video>
            <video id="shutdown-video" playsinline preload="auto">
                <source src="assets/tv-off.mp4" type="video/mp4">
            </video>
        </div>
        <!-- Terminal interface — replaces tv-screen inside the same frame -->
        <header id="main-interface" class="hidden" role="main">
            <h1 id="main-title">STORYENGINE</h1>
            <div id="terminal-interface">
                <div id="terminal-output"></div>
                <div class="input-line">
                    <span class="prompt" aria-hidden="true">admin@engine:~$</span>
                    <label for="terminal-input" class="sr-only">Enter command</label>
                    <input type="text" id="terminal-input" autofocus spellcheck="false" placeholder="Enter command"
                        aria-label="Terminal input">
                </div>
            </div>
        </header>
        <!-- Controls row — below screen like a real TV -->
        <div class="frame-controls">
            <div class="tv-control-group power-control">
                <span class="tv-control-label">MAIN PWR</span>
                <div class="power-btn-container" style="display:flex; align-items:center; gap:8px;">
                    <button id="tvbutton" class="tv-power-btn" aria-label="Power toggle">•</button>
                </div>
            </div>
            <div class="frame-controls-right">
                <div class="tv-control-group">
                    <span class="tv-control-label">MANUEL</span>
                    <button id="manual-btn" class="tv-manual-btn" title="Manual / Help">•</button>
                </div>
                <div class="tv-control-group">
                    <span class="tv-control-label">SPEAKER</span>
                    <button id="mute-btn" class="tv-mute-btn" title="Toggle sound">•</button>
                </div>
            </div>
        </div>

    </div>

    <main id="engine-viewport" class="hidden" role="region" aria-label="Story content">
        <section id="narrative-container">
            <h2 id="display-title"></h2>
            <div id="story-body"></div>
        </section>

        <section id="logic-exhibit" class="hidden">
            <hr>
            <h3>LOGIC_EXERCISE</h3>
            <div id="exercise-ui"></div>
            <div id="visual-result"></div>
        </section>
    </main>

    <script src="scripts/engine.js"></script>
    <!-- Manual popup — appears on screen like a map -->
    <div id="manual-overlay" class="manual-overlay hidden">
        <div class="manual-content">
            <h2>OPERATOR'S MANUAL – STORY ENGINE v1.3</h2>
            <p>Welcome to the <strong>STORY ENGINE</strong>, the newest marvel of narrative computational synthesis
                forged exclusively by Tech-JCorp. Engineered for the modern age, this apparatus delivers high-fidelity
                textual transmission directly to your viewing screen.</p>
            <hr>
            <h3>TERMINAL OPERATION DIRECTRY:</h3>
            <ul>
                <li><code>list</code> — Display the master catalog of available chronicles.</li>
                <li><code>[Number]</code> — Input the corresponding numeric code to commence transmission.</li>
                <li><code>back</code> — Halt current stream and return to the main directory.</li>
                <li><code>clear</code> — Wipe the cathode-ray tube of preceding outputs.</li>
                <li><code>exit</code> — Terminate connection and prepare for hardware shutdown.</li>
            </ul>
            <hr>
            <h3>MAINTENANCE & SAFETY:</h3>
            <ul>
                <li>Allow appropriate warm-up time before initial query bridging.</li>
                <li>Unknown dialect inputs will result in a localized sonic echo. Enter commands precisely.</li>
                <li>Sudden power termination will not damage the core module but is ill-advised during active playback.
                </li>
            </ul>
            <p class="manual-footer">Tech-JCorp thanks you for your purchase. Building the future, today.</p>
            <button id="close-manual" class="manual-close-btn">Put away Manuel</button>
        </div>
    </div>

    <!-- Hidden audio element for the vintage radio -->
    <audio id="radio-audio" preload="auto">
        <source src="assets/radio song.mp3" type="audio/mpeg">
    </audio>

    <!-- Hidden audio elements for TV boot and shutdown -->
    <audio id="on-audio" preload="auto">
        <source src="assets/ontv.mp3" type="audio/mpeg">
    </audio>
    <audio id="logo-audio" preload="auto">
        <source src="assets/The Drums That Stir the Spirit - Ancient Energy Reborn.mp3" type="audio/mpeg">
    </audio>

    <audio id="off-audio" preload="auto">
        <source src="assets/offtv.mp3" type="audio/mpeg">
    </audio>

    <!-- Radio Interference tracks -->
    <audio id="inter-01" preload="auto">
        <source src="assets/interference-01.mp3" type="audio/mpeg">
    </audio>
    <audio id="inter-02" preload="auto">
        <source src="assets/interference-02.mp3" type="audio/mpeg">
    </audio>

</body>

</html>